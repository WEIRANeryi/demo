<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>使用js自定义事件</title>
</head>
<body>
<style>
    #whirlyThing {display: none;}
</style>
<button id="clickMe" type="button">Start</button>
<img id="whirlyThing" src="http://pic13.nipic.com/20110409/7119492_114440620000_2.jpg" />
<!--<script>-->
<!--    document.addEventListener("ajax-start", e=>{-->
<!--        console.log("ajax-start");-->
<!--        document.getElementById("whirlyThing").style.display = "inline-block";-->
<!--    })-->

<!--    document.addEventListener("ajax-complete", e=>{-->
<!--        console.log("ajax-complete");-->
<!--        document.getElementById("whirlyThing").style.display = "none";-->
<!--    })-->

<!--    // 自定义事件-->
<!--    function triggerEvent(target, eventType, eventDetail){-->
<!--        const event = new CustomEvent(eventType, {-->
<!--            detail: eventDetail,-->
<!--        });-->
<!--        target.dispatchEvent(event);  // 自定义事件的触发-->
<!--    }-->

<!--    function performAjaxOperation(){-->
<!--        triggerEvent(document, "ajax-start", {url: "http://www.jxufe.edu.cn"});-->
<!--        setTimeout(()=>{-->
<!--            triggerEvent(document, "ajax-complete");-->
<!--        }, 5000);-->
<!--    }-->

<!--    const button = document.getElementById("clickMe");-->
<!--    button.addEventListener("click", ()=>{-->
<!--        performAjaxOperation();-->
<!--    })-->
<!--</script>-->
<script>
    document.body.addEventListener("veb",function(e){
        alert(e.eventType)
    })
    var event = document.createEvent('HTMLEvents');
    // initEvent接受3个参数：
    // 事件类型，是否冒泡，是否阻止浏览器的默认行为
    event.initEvent("veb", false, true);
    //通过eventType传递事件信息
    event.eventType="I love Veblen"
    //触发document上绑定的click事件
    document.body.dispatchEvent(event);

</script>
</body>
</html>